<nav class="main-nav" x-data="{ 
    cartItemCount: (typeof getCookie !== 'undefined' ? getCookie('cartItemCount') : null) || 0,
    currentRoute: window.location.hash.slice(2) || 'home'
}" x-init="
    // 쿠키 변경 감지를 위한 이벤트 리스너
    window.addEventListener('cartUpdated', () => {
        cartItemCount = (typeof getCookie !== 'undefined' ? getCookie('cartItemCount') : null) || 0;
    });
    
    // 라우트 변경 감지
    window.addEventListener('hashchange', () => {
        currentRoute = window.location.hash.slice(2) || 'home';
    });
">
    <div class="nav-container">
        <!-- 사이트 로고 -->
        <div class="nav-brand">
            <a @click="navigateTo('home')" class="brand-link">
                <span class="brand-logo">🚀</span>
                <span class="brand-text">ViewLogic</span>
            </a>
        </div>

        <!-- 모바일 햄버거 메뉴 버튼 -->
        <button class="nav-toggle">
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
        </button>

        <!-- 중앙 네비게이션 메뉴 -->
        <div class="nav-menu">
            <ul class="nav-links">
                <li><a @click="navigateTo('home')" :class="{ active: currentRoute === 'home' }">Home</a></li>
                <li><a @click="navigateTo('about')" :class="{ active: currentRoute === 'about' }">About</a></li>
                <li class="has-dropdown">
                    <a href="javascript:void(0)" class="dropdown-toggle">서비스</a>
                    <ul class="dropdown-menu">
                        <li><a @click="navigateTo('products')" :class="{ active: currentRoute === 'products' }">상품</a></li>
                        <li><a @click="navigateTo('blog')" :class="{ active: currentRoute === 'blog' }">블로그</a></li>
                        <li><a @click="navigateTo('videos')" :class="{ active: currentRoute === 'videos' }">동영상</a></li>
                        <li><a @click="navigateTo('manual')" :class="{ active: currentRoute === 'manual' }">매뉴얼</a></li>
                    </ul>
                </li>
                <li><a @click="navigateTo('components')" :class="{ active: currentRoute === 'components' }">컴포넌트</a></li>
                <li><a @click="navigateTo('contact')" :class="{ active: currentRoute === 'contact' }">Contact</a></li>
            </ul>
        </div>

        <!-- 오른쪽 유틸리티 메뉴 -->
        <div class="nav-utils">
            <!-- 장바구니 -->
            <div class="cart-widget" @click="navigateTo('cart')">
                <span class="cart-icon">🛒</span>
                <span class="cart-count" x-show="cartItemCount > 0" x-text="cartItemCount"></span>
            </div>
            
            <!-- 로그인/회원가입 -->
            <div class="nav-auth">
                <a @click="navigateTo('login')" class="auth-link login-link">로그인</a>
                <a @click="navigateTo('signup')" class="auth-link signup-link">회원가입</a>
            </div>
        </div>
    </div>
</nav>


<header v-if="showHeader" class="page-header">
    <div class="container">
        <h1>{{ headerTitle || pageTitle }}</h1>
        <p v-if="headerSubtitle" class="subtitle">{{ headerSubtitle }}</p>
    </div>
</header>

<main class="main-content">
    <div class="container">
        <!-- 페이지 콘텐츠가 여기에 삽입됩니다 -->
        {{ content }}
    </div>
</main>

<footer class="page-footer">
    <div class="container">
        <p>&copy; 2025 ViewLogic App. All rights reserved.</p>
    </div>
</footer>