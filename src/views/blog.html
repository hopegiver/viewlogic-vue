<div class="blog-page">

    <!-- ê²€ìƒ‰ ë° í•„í„° -->
    <div class="blog-controls">
        <div class="search-section">
            <input 
                type="text" 
                class="search-input" 
                v-model="searchQuery"
                @input="searchPosts"
                placeholder="í¬ìŠ¤íŠ¸ ê²€ìƒ‰..."
            >
            <button class="search-btn">ğŸ”</button>
        </div>

        <div class="filter-section">
            <div class="category-filters">
                <button 
                    v-for="category in categories" 
                    :key="category.id"
                    class="category-btn"
                    :class="{ active: selectedCategory === category.id }"
                    @click="filterByCategory(category.id)"
                >
                    {{ category.name }} ({{ category.count }})
                </button>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="blog-content">
        <!-- ì‚¬ì´ë“œë°” -->
        <aside class="blog-sidebar">
            <!-- ì¸ê¸° íƒœê·¸ -->
            <div class="sidebar-section">
                <h3>ì¸ê¸° íƒœê·¸</h3>
                <div class="tag-cloud">
                    <span 
                        v-for="tag in popularTags" 
                        :key="tag.name"
                        class="tag"
                        :class="{ active: selectedTags.includes(tag.name) }"
                        @click="toggleTag(tag.name)"
                        :style="{ fontSize: getTagSize(tag.count) + 'px' }"
                    >
                        {{ tag.name }}
                    </span>
                </div>
            </div>

            <!-- ìµœê·¼ í¬ìŠ¤íŠ¸ -->
            <div class="sidebar-section">
                <h3>ìµœê·¼ í¬ìŠ¤íŠ¸</h3>
                <div class="recent-posts">
                    <div 
                        v-for="post in recentPosts" 
                        :key="post.id"
                        class="recent-post"
                        @click="goToPost(post.id)"
                    >
                        <img :src="post.thumbnail" :alt="post.title" class="recent-thumbnail">
                        <div class="recent-info">
                            <h4>{{ post.title }}</h4>
                            <p class="recent-date">{{ formatDate(post.date) }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì•„ì¹´ì´ë¸Œ -->
            <div class="sidebar-section">
                <h3>ì•„ì¹´ì´ë¸Œ</h3>
                <div class="archive-list">
                    <div 
                        v-for="archive in archives" 
                        :key="archive.month"
                        class="archive-item"
                        @click="filterByMonth(archive.month)"
                    >
                        {{ archive.month }} ({{ archive.count }})
                    </div>
                </div>
            </div>
        </aside>

        <!-- í¬ìŠ¤íŠ¸ ëª©ë¡ -->
        <main class="blog-main">
            <div class="blog-stats">
                <p>ì´ {{ filteredPosts.length }}ê°œì˜ í¬ìŠ¤íŠ¸</p>
                <div class="sort-options">
                    <select v-model="sortBy" @change="sortPosts" class="sort-select">
                        <option value="date-desc">ìµœì‹ ìˆœ</option>
                        <option value="date-asc">ì˜¤ë˜ëœìˆœ</option>
                        <option value="views">ì¡°íšŒìˆ˜ìˆœ</option>
                        <option value="title">ì œëª©ìˆœ</option>
                    </select>
                </div>
            </div>

            <!-- í¬ìŠ¤íŠ¸ ê·¸ë¦¬ë“œ -->
            <div class="posts-grid">
                <article 
                    v-for="post in paginatedPosts" 
                    :key="post.id"
                    class="post-card"
                    @click="goToPost(post.id)"
                >
                    <div class="post-thumbnail">
                        <img :src="post.thumbnail" :alt="post.title">
                        <div class="post-category">{{ getCategoryName(post.category) }}</div>
                    </div>

                    <div class="post-content">
                        <div class="post-meta">
                            <span class="post-date">{{ formatDate(post.date) }}</span>
                            <span class="post-author">by {{ post.author }}</span>
                            <span class="post-views">ğŸ‘ {{ post.views }}</span>
                            <span class="post-reading-time">â± {{ post.readingTime }}ë¶„</span>
                        </div>

                        <h2 class="post-title">{{ post.title }}</h2>
                        <p class="post-excerpt">{{ post.excerpt }}</p>

                        <div class="post-tags">
                            <span 
                                v-for="tag in post.tags" 
                                :key="tag"
                                class="post-tag"
                                @click.stop="toggleTag(tag)"
                            >
                                #{{ tag }}
                            </span>
                        </div>

                        <div class="post-footer">
                            <button class="read-more-btn">ë” ì½ê¸° â†’</button>
                            <div class="post-actions">
                                <button class="like-btn" @click.stop="toggleLike(post)" :class="{ liked: post.isLiked }">
                                    â¤ï¸ {{ post.likes }}
                                </button>
                                <button class="bookmark-btn" @click.stop="toggleBookmark(post)" :class="{ bookmarked: post.isBookmarked }">
                                    ğŸ“–
                                </button>
                            </div>
                        </div>
                    </div>
                </article>
            </div>

            <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
            <div class="pagination" v-if="totalPages > 1">
                <button 
                    class="page-btn prev" 
                    @click="changePage(currentPage - 1)"
                    :disabled="currentPage === 1"
                >
                    â† ì´ì „
                </button>

                <button 
                    v-for="page in visiblePages" 
                    :key="page"
                    class="page-btn"
                    :class="{ active: page === currentPage }"
                    @click="changePage(page)"
                >
                    {{ page }}
                </button>

                <button 
                    class="page-btn next" 
                    @click="changePage(currentPage + 1)"
                    :disabled="currentPage === totalPages"
                >
                    ë‹¤ìŒ â†’
                </button>
            </div>

            <!-- í¬ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œ -->
            <div v-if="filteredPosts.length === 0" class="no-posts">
                <div class="no-posts-icon">ğŸ“</div>
                <h3>í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                <p>ê²€ìƒ‰ ì¡°ê±´ì„ ë³€ê²½í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</p>
            </div>
        </main>
    </div>
</div>