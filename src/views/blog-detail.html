<div class="blog-detail-page">
    <!-- Î∏åÎ†àÎìúÌÅ¨Îüº -->
    <nav class="breadcrumb">
        <a @click="navigateTo('home')">Ìôà</a>
        <span class="separator">‚Ä∫</span>
        <a @click="navigateTo('blog')">Î∏îÎ°úÍ∑∏</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">{{ post.title }}</span>
    </nav>

    <!-- Ìè¨Ïä§Ìä∏ Ìó§Îçî -->
    <header class="post-header">
        <div class="post-category-badge">{{ getCategoryName(post.category) }}</div>
        <h1 class="post-title">{{ post.title }}</h1>
        
        <div class="post-meta">
            <div class="author-info">
                <img :src="getAuthorAvatar(post.author)" :alt="post.author" class="author-avatar">
                <div>
                    <div class="author-name">{{ post.author }}</div>
                    <div class="post-date">{{ formatDate(post.date) }}</div>
                </div>
            </div>
            
            <div class="post-stats">
                <span class="stat-item">
                    <span class="stat-icon">üëÅ</span>
                    <span>{{ post.views }}</span>
                </span>
                <span class="stat-item">
                    <span class="stat-icon">‚è±</span>
                    <span>{{ post.readingTime }}Î∂Ñ</span>
                </span>
                <span class="stat-item">
                    <span class="stat-icon">‚ù§Ô∏è</span>
                    <span>{{ post.likes }}</span>
                </span>
            </div>
        </div>

        <div class="post-actions">
            <button class="action-btn like-btn" @click="toggleLike" :class="{ active: post.isLiked }">
                ‚ù§Ô∏è {{ post.likes }}
            </button>
            <button class="action-btn bookmark-btn" @click="toggleBookmark" :class="{ active: post.isBookmarked }">
                üìñ Î∂ÅÎßàÌÅ¨
            </button>
            <button class="action-btn share-btn" @click="sharePost">
                üîó Í≥µÏú†
            </button>
        </div>
    </header>

    <!-- Ìè¨Ïä§Ìä∏ Ïù¥ÎØ∏ÏßÄ -->
    <div class="post-image" v-if="post.thumbnail">
        <img :src="post.thumbnail" :alt="post.title">
    </div>

    <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
    <div class="blog-detail-content">
        <!-- Ìè¨Ïä§Ìä∏ Î≥∏Î¨∏ -->
        <main class="post-main">
            <div class="post-content" v-html="post.content"></div>

            <!-- ÌÉúÍ∑∏ -->
            <div class="post-tags">
                <h4>ÌÉúÍ∑∏</h4>
                <div class="tags-list">
                    <span 
                        v-for="tag in post.tags" 
                        :key="tag"
                        class="tag"
                        @click="searchByTag(tag)"
                    >
                        #{{ tag }}
                    </span>
                </div>
            </div>

            <!-- ÏÜåÏÖú Í≥µÏú† -->
            <div class="social-share">
                <h4>Ïù¥ Ìè¨Ïä§Ìä∏ Í≥µÏú†ÌïòÍ∏∞</h4>
                <div class="share-buttons">
                    <button class="share-btn twitter" @click="shareOn('twitter')">
                        üê¶ Twitter
                    </button>
                    <button class="share-btn facebook" @click="shareOn('facebook')">
                        üìò Facebook
                    </button>
                    <button class="share-btn linkedin" @click="shareOn('linkedin')">
                        üíº LinkedIn
                    </button>
                    <button class="share-btn copy-link" @click="copyLink">
                        üîó ÎßÅÌÅ¨ Î≥µÏÇ¨
                    </button>
                </div>
            </div>

            <!-- ÏûëÏÑ±Ïûê Ï†ïÎ≥¥ -->
            <div class="author-bio">
                <img :src="getAuthorAvatar(post.author)" :alt="post.author" class="author-avatar-large">
                <div class="author-details">
                    <h4>{{ post.author }}</h4>
                    <p class="author-description">{{ getAuthorDescription(post.author) }}</p>
                    <div class="author-links">
                        <a href="#" class="author-link">Ìè¨Ïä§Ìä∏ ÎçîÎ≥¥Í∏∞</a>
                        <a href="#" class="author-link">GitHub</a>
                        <a href="#" class="author-link">Twitter</a>
                    </div>
                </div>
            </div>

            <!-- ÎåìÍ∏Ä ÏÑπÏÖò -->
            <div class="comments-section">
                <h3>ÎåìÍ∏Ä {{ comments.length }}Í∞ú</h3>
                
                <!-- ÎåìÍ∏Ä ÏûëÏÑ± Ìèº -->
                <div class="comment-form">
                    <div class="form-group">
                        <input type="text" v-model="newComment.name" placeholder="Ïù¥Î¶Ñ" class="comment-input">
                        <input type="email" v-model="newComment.email" placeholder="Ïù¥Î©îÏùº (Í≥µÍ∞úÎêòÏßÄ ÏïäÏùå)" class="comment-input">
                    </div>
                    <textarea 
                        v-model="newComment.content" 
                        placeholder="ÎåìÍ∏ÄÏùÑ ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî..." 
                        class="comment-textarea"
                        rows="4"
                    ></textarea>
                    <button @click="submitComment" class="submit-comment-btn" :disabled="!canSubmitComment">
                        ÎåìÍ∏Ä ÏûëÏÑ±
                    </button>
                </div>

                <!-- ÎåìÍ∏Ä Î™©Î°ù -->
                <div class="comments-list">
                    <div v-for="comment in comments" :key="comment.id" class="comment-item">
                        <img :src="getCommentAvatar(comment.name)" :alt="comment.name" class="comment-avatar">
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">{{ comment.name }}</span>
                                <span class="comment-date">{{ formatDate(comment.date) }}</span>
                            </div>
                            <p class="comment-text">{{ comment.content }}</p>
                            <div class="comment-actions">
                                <button @click="likeComment(comment)" class="comment-action">
                                    üëç {{ comment.likes }}
                                </button>
                                <button @click="replyToComment(comment)" class="comment-action">
                                    üí¨ ÎãµÍ∏Ä
                                </button>
                            </div>

                            <!-- ÎãµÍ∏Ä -->
                            <div v-if="comment.replies && comment.replies.length > 0" class="replies">
                                <div v-for="reply in comment.replies" :key="reply.id" class="reply-item">
                                    <img :src="getCommentAvatar(reply.name)" :alt="reply.name" class="comment-avatar small">
                                    <div class="reply-content">
                                        <div class="comment-header">
                                            <span class="comment-author">{{ reply.name }}</span>
                                            <span class="comment-date">{{ formatDate(reply.date) }}</span>
                                        </div>
                                        <p class="comment-text">{{ reply.content }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <aside class="post-sidebar">
            <!-- Î™©Ï∞® -->
            <div class="sidebar-section toc" v-if="tableOfContents.length > 0">
                <h4>Î™©Ï∞®</h4>
                <ul class="toc-list">
                    <li v-for="item in tableOfContents" :key="item.id" class="toc-item">
                        <a @click="scrollToSection(item.id)" :class="`level-${item.level}`">
                            {{ item.text }}
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Í¥ÄÎ†® Ìè¨Ïä§Ìä∏ -->
            <div class="sidebar-section">
                <h4>Í¥ÄÎ†® Ìè¨Ïä§Ìä∏</h4>
                <div class="related-posts">
                    <div 
                        v-for="relatedPost in relatedPosts" 
                        :key="relatedPost.id"
                        class="related-post"
                        @click="goToPost(relatedPost.id)"
                    >
                        <img :src="relatedPost.thumbnail" :alt="relatedPost.title" class="related-thumbnail">
                        <div class="related-info">
                            <h5>{{ relatedPost.title }}</h5>
                            <p class="related-date">{{ formatDate(relatedPost.date) }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïù∏Í∏∞ Ìè¨Ïä§Ìä∏ -->
            <div class="sidebar-section">
                <h4>Ïù∏Í∏∞ Ìè¨Ïä§Ìä∏</h4>
                <div class="popular-posts">
                    <div 
                        v-for="popularPost in popularPosts" 
                        :key="popularPost.id"
                        class="popular-post"
                        @click="goToPost(popularPost.id)"
                    >
                        <span class="popular-rank">{{ popularPost.rank }}</span>
                        <div class="popular-info">
                            <h5>{{ popularPost.title }}</h5>
                            <p class="popular-views">üëÅ {{ popularPost.views }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌÉúÍ∑∏ ÌÅ¥ÎùºÏö∞Îìú -->
            <div class="sidebar-section">
                <h4>Í¥ÄÎ†® ÌÉúÍ∑∏</h4>
                <div class="tag-cloud">
                    <span 
                        v-for="tag in relatedTags" 
                        :key="tag.name"
                        class="tag"
                        @click="searchByTag(tag.name)"
                        :style="{ fontSize: getTagSize(tag.count) + 'px' }"
                    >
                        {{ tag.name }}
                    </span>
                </div>
            </div>
        </aside>
    </div>

    <!-- Îã§Ïùå/Ïù¥Ï†Ñ Ìè¨Ïä§Ìä∏ -->
    <nav class="post-navigation">
        <div class="nav-item prev" v-if="previousPost" @click="goToPost(previousPost.id)">
            <div class="nav-label">‚Üê Ïù¥Ï†Ñ Ìè¨Ïä§Ìä∏</div>
            <div class="nav-title">{{ previousPost.title }}</div>
        </div>
        <div class="nav-item next" v-if="nextPost" @click="goToPost(nextPost.id)">
            <div class="nav-label">Îã§Ïùå Ìè¨Ïä§Ìä∏ ‚Üí</div>
            <div class="nav-title">{{ nextPost.title }}</div>
        </div>
    </nav>
</div>